import {
  GreaterThanOrEqual,
  type CreateActionParams,
} from '@rabbitholegg/questdk'
import {
  Chains,
  type TestParams,
  createTestCase,
  MintActionParams,
} from '@rabbitholegg/questdk-plugin-utils'

// mint action type //

const MINT_EDITION_V2: TestParams<MintActionParams> = {
  transaction: {
    chainId: 8453,
    from: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
    to: '0x432f4ccc39ab8dd8015f590a56244becb8d16933',
    hash: '0xe12969d93f9a8241e031246f295ac69c304e1968b2ea568680cbaf93683030dd',
    input:
      '0x972f9e94000000000000000000000000865c301c46d64de5c9b124ec1a97ef1efc1bcbd100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000205f35dce98ba4fba25530a026ed80b2cecdaa31091ba4958b99b52ea1d068adad',
    value: '500000000000000',
  },
  params: {
    chainId: Chains.BASE,
    contractAddress: '0x432f4ccc39ab8dd8015f590a56244becb8d16933',
    tokenId: 1,
    amount: GreaterThanOrEqual(1),
    recipient: '0x865c301c46d64de5c9b124ec1a97ef1efc1bcbd1',
    referral: '0x0000000000000000000000000000000000000000',
  },
}

export const passingTestCasesMint = [
  createTestCase(MINT_EDITION_V2, 'when minting a V2 collection'),
]

export const failingTestCasesMint = [
  createTestCase(MINT_EDITION_V2, 'when chainId is not correct', {
    chainId: 1,
  }),
  createTestCase(MINT_EDITION_V2, 'when contractAddress is not correct', {
    contractAddress: '0x777777C338d93e2C7adf08D102d45CA7CC4Ed021',
  }),
  createTestCase(MINT_EDITION_V2, 'when tokenId is not correct', {
    tokenId: 100,
  }),
  createTestCase(MINT_EDITION_V2, 'when amount is not sufficient', {
    amount: GreaterThanOrEqual(10),
  }),
  createTestCase(MINT_EDITION_V2, 'when referral is not correct', {
    referral: '0x777777C338d93e2C7adf08D102d45CA7CC4Ed021',
  }),
]

//  create action type //

const PUBLISH_EDITION: TestParams<CreateActionParams> = {
  transaction: {
    chainId: 8453,
    from: '0x624310638b9901933fab5f5b0deb2b33e13c87cc',
    hash: '0x585edfb9b1899f37926c51274b8fbe0d62e1a00402a3cd084ae6a7af41226b9c',
    input:
      '0x9cc866bd000000000000000000000000624310638b9901933fab5f5b0deb2b33e13c87cc000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000001c00000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000026000000000000000000000000000000000000000000000000000000000000002c00000000000000000000000000000000000000000000000000000000000000320000000000000000000000000000000000000000000000000000000000000038000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000666ba076000000000000000000000000000000000000000000000000000000000000000c67616c207665727365205345000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000065449544c455300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000035697066733a2f2f516d5848673953395862314e33466552356e394a587078657a32526d744d4248484e354b7744443676777667415100000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000624310638b9901933fab5f5b0deb2b33e13c87cc0000000000000000000000007f8b18bbbf77fafdee934eaa359da3193eada207000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000aae6000000000000000000000000000000000000000000000000000000000000493e000000000000000000000000000000000000000000000000000000000000000020000000000000000000000005a6fd0c361a2ed387fe6c8346b1ced733ebd2c4e0000000000000000000000007f8b18bbbf77fafdee934eaa359da3193eada207000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000927c00000000000000000000000000000000000000000000000000000000000061a80',
    to: '0x04e4d53374a5e6259ce06cfc6850a839bd960d01',
    value: '0',
  },
  params: {
    chainId: Chains.BASE,
  },
}

export const passingTestCasesCreate = [
  createTestCase(PUBLISH_EDITION, 'when creating a new collection'),
]

export const failingTestCasesCreate = [
  createTestCase(PUBLISH_EDITION, 'when chainId is not correct', {
    chainId: 1,
  }),
  createTestCase(PUBLISH_EDITION, 'when contractAddress is not correct', {
    contractAddress: '0x777777C338d93e2C7adf08D102d45CA7CC4Ed021',
  }),
]
